<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DAGAT | Servicios en Ingenier√≠a, Seguridad y Consultor√≠a Integral</title>
    <meta name="description" content="DAGAT - Expertos en sistemas contra incendio (NFPA), consultor√≠a en seguridad y salud ocupacional (SST), capacitaciones y soluciones de ingenier√≠a en Per√∫.">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>

    <style>
        :root {
            /* Colores de Marca */
            --primary: #172459; /* Azul Marino (Ingenier√≠a/Confianza) */
            --secondary: #2E407C; /* Azul Intermedio */
            --accent: #FF7043; /* Naranja/Rojo (Fuego/Alerta/Acci√≥n) */
            --whatsapp: #25d366; 
            --accounting: #00897b; 
            --success: #4caf50;
            --danger: #f44336;
            --dark: #212529;
            --light: #f8f9fa;
            --shadow: 0 6px 15px rgba(0,0,0,0.1);
            --transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.7;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        /* Fondo con la imagen de ingenier√≠a adjunta */
        .header-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* RUTA LOCAL DE LA IMAGEN ADJUNTA */
            background: url('image_47485e.jpg') center/cover;
            background-blend-mode: multiply; /* Para que el color azul del fondo se mezcle */
            opacity: 0.15; 
            z-index: 1;
        }

        .header-content {
            position: relative;
            z-index: 2;
        }
        
        /* Logo Principal */
        .logo {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
        }

        .logo img {
            /* RUTA LOCAL DE LA IMAGEN ADJUNTA */
            height: 100px; 
            width: auto;
            filter: drop-shadow(0 0 8px rgba(0,0,0,0.5));
            margin-bottom: 10px;
        }
        
        .logo span {
            font-size: 2.8rem;
            font-weight: 700;
            line-height: 1;
        }
        
        .logo-subtitle {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--accent);
            text-transform: uppercase;
        }

        /* Navegaci√≥n */
        nav {
            background-color: var(--secondary);
            padding: 0.75rem 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: var(--accent);
            transform: scale(1.05);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 101;
        }

        /* Secciones y animaci√≥n */
        section {
            padding: 5rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        section.fade-in {
            opacity: 1;
            transform: translateY(0);
        }

        h2 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            padding-bottom: 1rem;
            font-size: 2.2rem;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background-color: var(--accent);
            border-radius: 2px;
        }

        .section-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 3rem;
            font-size: 1.1rem;
            color: var(--dark);
        }
        
        /* Hero Section */
        .hero {
            /* RUTA LOCAL DE LA IMAGEN ADJUNTA */
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.6)), url('image_47485e.jpg') center/cover;
            background-attachment: fixed;
            color: white;
            padding: 8rem 1rem;
            text-align: center;
        }

        /* Cards de Servicios */
        .servicios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
        }

        .service-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); 
            transition: var(--transition);
            border: 1px solid #e0e0e0;
        }

        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .service-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            transition: all 0.6s ease;
        }

        /* Botones */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--accent);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            gap: 0.75rem;
            box-shadow: 0 4px 6px rgba(255,112,67,0.3);
        }

        /* Contacto Info */
        .contact-info a {
            color: var(--primary);
            text-decoration: none;
            transition: all 0.2s;
        }

        .contact-info a:hover {
            text-decoration: underline;
            color: var(--accent);
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 3rem 1rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-logo {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .footer-logo img {
            /* RUTA LOCAL DE LA IMAGEN ADJUNTA */
            height: 40px; 
            width: auto;
            margin-right: 10px;
            /* Filtro para hacer la imagen blanca en el fondo oscuro */
            filter: brightness(0) invert(1) drop-shadow(0 0 3px rgba(255, 112, 67, 0.5)); 
        }
        
        .footer-logo span {
            font-weight: 700;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background-color: var(--primary);
                flex-direction: column;
                max-height: 0;
                overflow: hidden;
                box-shadow: 0 5px 10px rgba(0,0,0,0.3);
                transition: max-height 0.3s ease-out;
            }
            
            .nav-links.active {
                max-height: 500px;
                padding: 1rem 0;
            }
            
            .mobile-menu-btn {
                display: block;
                order: 1; 
            }
            
            .contact-container {
                grid-template-columns: 1fr;
            }
            
            .servicios-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    
    <div id="notificationContainer"></div>

    <header>
        <div class="header-overlay"></div>
        <div class="header-content">
            <div class="logo">
                <img src="Logo final 2 dagat.jpg" alt="Logo DAGAT SAC">
                <span>DAGAT</span>
                <span class="logo-subtitle">SERVICIOS EN INGENIER√çA</span>
            </div>
            <h1>Soluciones Integrales de Ingenier√≠a, Tecnolog√≠a y Seguridad</h1>
            <p>Dise√±o, implementaci√≥n y mantenimiento de sistemas cr√≠ticos de seguridad industrial, TI y gesti√≥n ocupacional. **Experiencia certificada y cumplimiento NFPA y Ley 29783**.</p>
        </div>
    </header>

    <nav>
        <div class="nav-container">
            <span style="color: white; font-weight: 600; font-size: 1.2rem;">DAGAT</span> 
            
            <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Abrir Men√∫">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="nav-links" id="navLinks">
                <a href="#inicio" class="active"><i class="fas fa-home"></i> Inicio</a>
                <a href="#servicios"><i class="fas fa-toolbox"></i> Servicios</a>
                <a href="#capacitaciones"><i class="fas fa-chalkboard-teacher"></i> Capacitaciones</a>
                <a href="#certificados"><i class="fas fa-medal"></i> Certificados</a>
                <a href="#cotizar"><i class="fas fa-paper-plane"></i> Cotizar</a>
                <a href="#contacto"><i class="fas fa-phone-alt"></i> Contacto</a>
            </div>
        </div>
    </nav>

    <section class="hero" id="inicio">
        <div class="hero-content">
            <h1>Ingenier√≠a de vanguardia para proteger su futuro</h1>
            <p>Dise√±o, implementaci√≥n y mantenimiento de sistemas cr√≠ticos de seguridad industrial y gesti√≥n ocupacional. **Experiencia certificada y cumplimiento NFPA y Ley 29783**.</p>
            <div class="hero-buttons">
                <a href="#servicios" class="btn"><i class="fas fa-cogs"></i> Ver Soluciones</a>
                <a href="#cotizar" class="btn btn-whatsapp" style="background-color: var(--whatsapp);"><i class="fab fa-whatsapp"></i> Cotizaci√≥n R√°pida</a>
            </div>
        </div>
    </section>

    <section id="servicios">
        <h2>Portafolio de Soluciones en Ingenier√≠a</h2>
        <div class="section-intro">
            <p>Servicios especializados que combinan la tecnolog√≠a y la experiencia para la m√°xima protecci√≥n de su negocio y capital humano.</p>
        </div>

        <div class="servicios-grid">
            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1543888566-bf5f74786d11?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHw3fHxmaXJlJTIwc3lzdGVtcyUyMG5mcGF8ZW58MHx8fHwxNjY1MTk4MTE4&ixlib=rb-1.2.1&q=80&w=1080" alt="Sistemas contra incendio NFPA" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-fire-extinguisher"></i> Sistemas Contra Incendio</h3>
                    <p>Dise√±o, instalaci√≥n y mantenimiento de sistemas de detecci√≥n, alarma y supresi√≥n de incendios (Sprinklers, CO2, Agentes Limpios), cumpliendo rigurosamente con la **normativa NFPA**.</p>
                    <a href="#cotizar" class="btn btn-sm">Solicitar Cotizaci√≥n</a>
                </div>
            </div>

            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1579782522774-a6962322306d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHwzfHxzYWZldHklMjBhbmQlMjBoZWFsdGglMjBhdWRpdHxlbnwwfHx8fDE2NjUxOTgxNjQ&ixlib=rb-1.2.1&q=80&w=1080" alt="Consultor√≠a SST" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-user-shield"></i> Auditor√≠as y SST</h3>
                    <p>Auditor√≠as, implementaci√≥n de Sistemas de Gesti√≥n de SST (Ley 29783), elaboraci√≥n de IPERC, planes de emergencia y monitoreos ocupacionales.</p>
                    <a href="#contacto" class="btn btn-sm">Solicitar Auditor√≠a</a>
                </div>
            </div>
            
            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1550063873-ab792945009e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHw3fHxjb21wdXRlciUyMG5ldHdvcmslMjBhbmQlMjBzZXJ2ZXJ8ZW58MHx8fHwxNjY1MTk4Mjgx&ixlib=rb-1.2.1&q=80&w=1080" alt="Soluciones de TI y Sistemas" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-microchip"></i> Soluciones de Software y TI</h3>
                    <p>Servicios de consultor√≠a computacional, implementaci√≥n de sistemas de gesti√≥n documental (SG-SST) y desarrollo de soluciones tecnol√≥gicas a medida.</p>
                    <a href="#cotizar" class="btn btn-sm">Cotizar Soluci√≥n</a>
                </div>
            </div>
            
            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1542435503-911b3334241e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHwzfHxtYWludGVuYW5jZSUyMHRlY2huaWNpYW58ZW58MHx8fHwxNjY1MTk4NDQ1&ixlib=rb-1.2.1&q=80&w=1080" alt="Mantenimiento" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-wrench"></i> Mantenimiento Preventivo</h3>
                    <p>Planes de mantenimiento preventivo y correctivo para sistemas de seguridad, equipos contra incendios y auditor√≠as de *compliance*.</p>
                    <a href="#contacto" class="btn btn-sm">Solicitar Plan</a>
                </div>
            </div>

            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1554224155-ac28a1c97b83?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHwzfHxhY2NvdW50aW5nJTIwYW5kJTIwd29ya3BsYWNlfGVufDB8fHx8MTY2NTI1MDQ4MQ&ixlib=rb-1.2.1&q=80&w=1080" alt="Servicios Contables" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-chart-bar"></i> Servicios Contables</h3>
                    <p>Contabilidad general, planificaci√≥n tributaria, gesti√≥n de n√≥minas, auditor√≠a y consultor√≠a financiera. (Partner Oficial).</p>
                    <a href="mailto:contabilidad.reyes@dagatgroup.com?subject=Consulta%20Servicios%20Contables%20desde%20la%20Web" class="btn btn-sm" style="background-color: var(--accounting);">Contactar Contable</a>
                </div>
            </div>
            
            <div class="service-card">
                <img src="https://images.unsplash.com/photo-1533038590840-1cde6e632207?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTYxNzd8MHwxfHNlYXJjaHwzfHxlbmdpbmVlcmFzJTIwZGVzaWduJTIwYW5kJTIwcHJvamVjdHN8ZW58MHx8fHwxNjY1MTk4MzM1&ixlib=rb-1.2.1&q=80&w=1080" alt="Ingenier√≠a de Proyectos" class="service-img" loading="lazy">
                <div class="service-content">
                    <h3><i class="fas fa-hard-hat"></i> Ingenier√≠a de Proyectos</h3>
                    <p>Dise√±o y ejecuci√≥n de proyectos de ingenier√≠a especializada, estudios de riesgos y asesor√≠a para obtenci√≥n de licencias municipales.</p>
                    <a href="#cotizar" class="btn btn-sm">Cotizar Proyecto</a>
                </div>
            </div>
        </div>
    </section>

    <section id="capacitaciones">
        <h2>Pr√≥ximas Capacitaciones Certificadas</h2>
        <div class="section-intro">
            <p>Formaci√≥n especializada en SST, Primeros Auxilios, Lucha Contra Incendios y Manejo de Materiales Peligrosos. Cursos disponibles de forma virtual y presencial.</p>
        </div>

        <div class="calendar-container" style="height: 500px; border-radius: 10px; overflow: hidden; box-shadow: var(--shadow); margin-bottom: 3rem;">
            <iframe src="https://calendar.google.com/calendar/embed?height=500&wkst=1&bgcolor=%23ffffff&ctz=America%2FLima&showTitle=0&showNav=1&showDate=1&showPrint=0&showTabs=1&showCalendars=0&src=Y19hY2lkZGUwMGQ5ZmVmYzVlODQ3YjJhY2FlZjQ4ZDdlYzJlZDEyM2JjYzU2YzE0YmFkYjU5ZDI3M2Q3YjQ3YzY2QGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20&color=%23D50000" style="border-width:0" width="100%" height="100%" frameborder="0" scrolling="no" loading="lazy"></iframe>
        </div>

        <div style="text-align: center;">
            <p class="section-intro">¬øDesea inscribir a su personal o necesita una capacitaci√≥n in-house?</p>
            <a href="https://wa.me/51992132260?text=Hola%20DAGAT%20SAC,%20quiero%20cotizar%20capacitaciones." class="btn btn-whatsapp" style="background-color: var(--whatsapp);"><i class="fab fa-whatsapp"></i> Consultar Disponibilidad y Pagos</a>
        </div>
    </section>

    <section id="certificados" class="certificates-section" style="background-color: var(--light);">
        <div class="container">
            <h2>Verificaci√≥n de Certificados Digitales</h2>
            <div class="section-intro">
                <p>Utilice nuestro sistema para validar la autenticidad y vigencia de los certificados emitidos por DAGAT SAC. Transparencia y seguridad.</p>
            </div>

            <div class="verification-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div class="verification-form" style="background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow);">
                    <h3><i class="fas fa-search"></i> Buscar Certificado</h3>
                    <p>Ingrese el c√≥digo de verificaci√≥n que aparece en el documento o escanee el QR.</p>
                    
                    <div class="input-group" style="display: flex; gap: 1rem; margin: 1.5rem 0;">
                        <input type="text" id="certificateCode" placeholder="Ej: DAGAT-2024-00123" class="form-control" style="flex: 1; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                        <button id="verifyBtn" class="btn btn-sm" style="flex-shrink: 0;">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>

                    <div class="qr-scanner" style="margin-top: 2rem; border: 2px dashed #ddd; padding: 1rem; border-radius: 8px; text-align: center;">
                        <p style="color: #6c757d; margin-bottom: 1rem;"><i class="fas fa-camera"></i> Escanear C√≥digo QR</p>
                        <div id="qr-reader" style="width: 100%"></div>
                    </div>
                    
                    <button id="adminAccessBtn" class="btn" style="background-color: var(--secondary); margin-top: 2rem; width: 100%;">
                        <i class="fas fa-lock"></i> Acceso Administrativo
                    </button>
                </div>

                <div class="certificate-result" id="certificateResult" style="display: none; background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow); border-left: 4px solid var(--success);">
                    <div class="result-header" style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; color: var(--success);">
                        <i class="fas fa-certificate" style="font-size: 2rem;"></i>
                        <h3>Resultado de Verificaci√≥n</h3>
                    </div>
                    <div class="result-content" id="resultContent">
                        </div>
                </div>
            </div>

            <div class="admin-panel" id="adminPanel" style="display: none; margin-top: 3rem; background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow); border: 2px solid var(--primary);">
                </div>
        </div>
    </section>

    <section id="cotizar">
        <h2>Cotizaci√≥n Express</h2>
        <div class="section-intro">
            <p>Complete el formulario y un ingeniero se contactar√° con usted en menos de **4 horas**.</p>
        </div>

        <div class="form-container" style="background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow); max-width: 800px; margin: 0 auto;">
            <form id="cotizacionForm">
                <div class="form-group">
                    <label for="nombre"><i class="fas fa-user"></i> Nombre Completo</label>
                    <input type="text" id="nombre" class="form-control" required placeholder="Su Nombre" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>

                <div class="form-group">
                    <label for="empresa"><i class="fas fa-building"></i> Empresa (RUC)</label>
                    <input type="text" id="empresa" class="form-control" required placeholder="Nombre de la Empresa y RUC" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                </div>

                <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Correo Electr√≥nico</label>
                        <input type="email" id="email" class="form-control" required placeholder="su.correo@empresa.com" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                    </div>

                    <div class="form-group">
                        <label for="telefono"><i class="fas fa-phone-alt"></i> Tel√©fono / WhatsApp</label>
                        <input type="tel" id="telefono" class="form-control" required placeholder="+51" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                    </div>
                </div>

                <div class="form-group">
                    <label for="servicio"><i class="fas fa-tag"></i> Servicio de Inter√©s</label>
                    <select id="servicio" class="form-control" required style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="">Seleccione un servicio</option>
                        <option value="sistemas-incendio">Sistemas Contra Incendio (NFPA)</option>
                        <option value="capacitaciones">Capacitaciones SST / Primeros Auxilios</option>
                        <option value="sst">Auditor√≠a e Implementaci√≥n SST (Ley 29783)</option>
                        <option value="consultoria">Consultor√≠a Especializada / Asesor√≠a Legal</option>
                        <option value="ingenieria">Ingenier√≠a de Proyectos / Soluciones TI</option>
                        <option value="mantenimiento">Mantenimiento Preventivo</option>
                        <option value="contabilidad">Servicios Contables</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="mensaje"><i class="fas fa-comment-dots"></i> Detalles del Requerimiento</label>
                    <textarea id="mensaje" class="form-control" rows="5" placeholder="Describa su requerimiento: especificaciones t√©cnicas, volumen, ubicaci√≥n, etc." style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; min-height: 150px;"></textarea>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-paperclip"></i> Adjuntar Archivos (Opcional)</label>
                    <div class="file-upload" id="fileUpload" style="border: 2px dashed #ddd; padding: 2rem; text-align: center; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; margin-bottom: 1rem; color: #6c757d;"></i>
                        <p>Arrastre archivos aqu√≠ o haga clic para seleccionar</p>
                        <p class="small" style="color: #6c757d;">(Planos, especificaciones, RIT, etc. Max 5MB)</p>
                        <input type="file" id="archivos" style="display: none;" multiple accept=".pdf,.doc,.docx,.jpg,.png">
                    </div>
                    <ul id="fileList" style="list-style: none; padding-left: 0; margin-top: 10px; font-size: 0.9rem; color: var(--primary);"></ul>
                </div>

                <button type="submit" class="btn" style="width: 100%;">
                    <span id="btnText"><i class="fas fa-paper-plane"></i> Enviar Solicitud</span>
                    <span id="btnLoader" class="loader" style="display: none;">Enviando...</span>
                </button>
            </form>
        </div>
    </section>
    
    <section id="contacto" style="background-color: var(--light);">
        <h2>Contacto y Ubicaci√≥n</h2>
        <div class="section-intro">
            <p>Estamos disponibles para atender sus consultas y brindarle la mejor soluci√≥n t√©cnica.</p>
        </div>

        <div class="contact-container" style="display: grid; grid-template-columns: 1fr 1.2fr; gap: 3rem; margin-top: 2rem;">
            <div class="form-container" style="box-shadow: none; padding: 0;">
                <h3><i class="fas fa-headset"></i> Env√≠anos un Mensaje</h3>
                <form id="contactForm">
                    <div class="form-group">
                        <label for="contactName">Nombre Completo</label>
                        <input type="text" id="contactName" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="contactEmail">Correo Electr√≥nico</label>
                        <input type="email" id="contactEmail" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="contactPhone">Tel√©fono</label>
                        <input type="tel" id="contactPhone" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="contactSubject">Asunto</label>
                        <select id="contactSubject" class="form-control" required>
                            <option value="">Seleccione un asunto</option>
                            <option value="cotizacion">Solicitud de Cotizaci√≥n</option>
                            <option value="capacitacion">Informaci√≥n de Capacitaciones</option>
                            <option value="contabilidad">Servicios Contables</option>
                            <option value="certificados">Verificaci√≥n de Certificados</option>
                            <option value="general">Consulta General</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="contactMessage">Mensaje</label>
                        <textarea id="contactMessage" class="form-control" rows="5" required></textarea>
                    </div>

                    <a id="sendMailBtn" href="mailto:info@dagatgroup.com" class="btn" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> Enviar Mensaje
                    </a>
                </form>
            </div>
            
            <div class="contact-info">
                <h3><i class="fas fa-address-card" style="color: var(--primary);"></i> Datos de Contacto</h3>
                <div class="contact-item" style="display: flex; gap: 1rem; align-items: flex-start;">
                    <i class="fas fa-map-marker-alt" style="color: var(--accent); font-size: 1.5rem; margin-top: 0.2rem;"></i>
                    <div>
                        <h3>Oficina Principal</h3>
                        <p>Ca. Las Amazonas Urb. Tilda Mz. H lote 20, Oficina 301<br>Ate, Lima - Per√∫</p>
                    </div>
                </div>

                <div class="contact-item" style="display: flex; gap: 1rem; align-items: flex-start;">
                    <i class="fas fa-phone-alt" style="color: var(--accent); font-size: 1.5rem; margin-top: 0.2rem;"></i>
                    <div>
                        <h3>Tel√©fonos</h3>
                        <p><a href="tel:+51992132260">+51 992 132 260</a> (Principal)</p>
                        <p><a href="tel:+51981353787">+51 981 353 787</a> (Ventas)</p>
                    </div>
                </div>

                <div class="contact-item" style="display: flex; gap: 1rem; align-items: flex-start;">
                    <i class="fas fa-envelope" style="color: var(--accent); font-size: 1.5rem; margin-top: 0.2rem;"></i>
                    <div>
                        <h3>Correo Electr√≥nico</h3>
                        <p><a href="mailto:info@dagatgroup.com">info@dagatgroup.com</a></p>
                        <p><a href="mailto:ingenieria@dagatgroup.com">ingenieria@dagatgroup.com</a></p>
                    </div>
                </div>

                <h3 style="margin-top: 2rem;"><i class="fas fa-share-alt" style="color: var(--primary);"></i> S√≠guenos</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.linkedin.com" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://www.instagram.com" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>

        <div class="map-container" style="height: 400px; border-radius: 10px; overflow: hidden; box-shadow: var(--shadow); margin-top: 3rem;">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3901.965949656279!2d-77.0365427!3d-12.0463258!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTLCsDAyJzQ2LjgiUyA3N8KwMDInMTEuNiJX!5e0!3m2!1ses!2spe!4v1620000000000!5m2!1ses!2spe" allowfullscreen="" loading="lazy" style="width: 100%; height: 100%; border: 0;"></iframe>
        </div>
    </section>

    <a href="https://wa.me/51992132260?text=Hola%20DAGAT%20SAC,%20quisiera%20m√°s%20informaci√≥n%20sobre%20sus%20servicios%20de%20ingenier√≠a" class="whatsapp-float" aria-label="Contactar por WhatsApp" style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background-color: var(--whatsapp); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 99; animation: pulse 2s infinite;">
        <i class="fab fa-whatsapp"></i>
    </a>

    <footer>
        <div class="footer-container">
            <div class="footer-about">
                <div class="footer-logo">
                    <img src="Logo final 2 dagat.jpg" alt="Logo DAGAT SAC">
                    <span>DAGAT</span>
                </div>
                <p>Expertos en ingenier√≠a de seguridad, protecci√≥n contra incendios, salud ocupacional y consultor√≠a integral en Per√∫.</p>
                <div class="social-links">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>

            <div class="footer-links">
                <h3>Servicios Clave</h3>
                <ul>
                    <li><a href="#servicios">Sistemas Contra Incendio</a></li>
                    <li><a href="#servicios">Auditor√≠as SST</a></li>
                    <li><a href="#capacitaciones">Capacitaciones Certificadas</a></li>
                    <li><a href="#servicios">Ingenier√≠a de Proyectos</a></li>
                    <li><a href="#servicios">Servicios Contables</a></li>
                    <li><a href="#certificados">Verificaci√≥n de Certificados</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h3>Enlaces √ötiles</h3>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#cotizar">Solicitar Cotizaci√≥n</a></li>
                    <li><a href="#blog">Blog T√©cnico</a></li>
                    <li><a href="#contacto">Contacto y Ubicaci√≥n</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h3>Contacto R√°pido</h3>
                <ul>
                    <li><i class="fas fa-phone-alt"></i> <a href="tel:+51992132260">+51 992 132 260</a></li>
                    <li><i class="fas fa-envelope"></i> <a href="mailto:info@dagatgroup.com">info@dagatgroup.com</a></li>
                    <li><i class="fas fa-map-marker-alt"></i> <a href="#contacto">Ate, Lima - Per√∫</a></li>
                </ul>
            </div>
        </div>

        <div class="copyright" style="text-align: center; margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.1);">
            <p>¬© 2025 DAGAT SAC. Todos los derechos reservados. | Servicios en Ingenier√≠a.</p>
        </div>
    </footer>

    <div class="auth-overlay" id="authOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); justify-content: center; align-items: center; z-index: 1000;">
        <div class="auth-container" style="background: white; padding: 2rem; border-radius: 10px; box-shadow: var(--shadow); width: 100%; max-width: 400px; text-align: center;">
            <h3><i class="fas fa-user-shield"></i> Acceso Administrativo</h3>
            <p>Ingrese la clave de administrador para acceder al panel de certificados</p>
            
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="adminPassword" style="display: block; text-align: left; margin-bottom: 0.5rem;">Clave de Administrador</label>
                <input type="password" id="adminPassword" class="form-control" placeholder="Ingrese la clave" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            
            <button id="loginBtn" class="btn" style="width: 100%;">
                <i class="fas fa-sign-in-alt"></i> Ingresar
            </button>
            
            <div class="auth-error" id="authError" style="color: var(--danger); margin-top: 1rem; display: none;">
                <i class="fas fa-exclamation-triangle"></i> Clave incorrecta. Intente nuevamente.
            </div>
        </div>
    </div>

    <script>
        // -----------------------------------------------------
        // JS: Funcionalidades
        // -----------------------------------------------------

        // NOTIFICACIONES FLOTANTES
        function showNotification(message, type = 'info', duration = 4000) {
            const container = document.getElementById('notificationContainer') || (() => {
                const div = document.createElement('div');
                div.id = 'notificationContainer';
                document.body.appendChild(div);
                return div;
            })();

            const notification = document.createElement('div');
            notification.classList.add('notification', type);
            notification.innerHTML = `
                <i class="fas fa-${type === 'info' ? 'info-circle' : type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                <span>${message}</span>
            `;

            container.prepend(notification); 

            setTimeout(() => notification.classList.add('show'), 50);

            setTimeout(() => {
                notification.classList.remove('show');
                notification.addEventListener('transitionend', () => notification.remove());
            }, duration);
        }

        // SISTEMA DE AUTENTICACI√ìN
        class AuthSystem {
            constructor() {
                this.isAuthenticated = false;
                this.adminPassword = "Mon211306@@"; 
                this.init();
            }
            
            init() {
                this.checkExistingSession();
                document.getElementById('adminAccessBtn').addEventListener('click', () => { this.showAuthModal(); });
                document.getElementById('loginBtn').addEventListener('click', () => { this.authenticate(); });
                
                if(document.getElementById('logoutBtn')) { 
                    document.getElementById('logoutBtn').addEventListener('click', () => { this.logout(); });
                }
                document.getElementById('adminPassword').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') { this.authenticate(); }
                });
            }

            checkExistingSession() {
                const session = sessionStorage.getItem('dagat_admin_session'); 
                if (session && session === 'active') {
                    this.isAuthenticated = true;
                    this.showAdminPanel();
                }
            }

            showAuthModal() {
                if (this.isAuthenticated) {
                    showNotification('‚ö†Ô∏è Sesi√≥n de administrador ya activa', 'info');
                    return;
                }
                document.getElementById('authOverlay').style.display = 'flex';
                document.getElementById('adminPassword').focus();
            }

            hideAuthModal() {
                document.getElementById('authOverlay').style.display = 'none';
                document.getElementById('adminPassword').value = '';
                document.getElementById('authError').style.display = 'none';
            }

            authenticate() {
                const password = document.getElementById('adminPassword').value;
                
                if (password === this.adminPassword) {
                    this.isAuthenticated = true;
                    sessionStorage.setItem('dagat_admin_session', 'active');
                    this.hideAuthModal();
                    this.showAdminPanel();
                    showNotification('‚úÖ Acceso administrativo exitoso', 'success');
                } else {
                    document.getElementById('authError').style.display = 'block';
                    document.getElementById('adminPassword').value = '';
                    document.getElementById('adminPassword').focus();
                    showNotification('‚ùå Clave incorrecta. Intente nuevamente.', 'error');
                }
            }

            logout() {
                this.isAuthenticated = false;
                sessionStorage.removeItem('dagat_admin_session');
                this.hideAdminPanel();
                showNotification('üö™ Sesi√≥n cerrada correctamente', 'info');
            }

            showAdminPanel() {
                const adminPanel = document.getElementById('adminPanel');
                if (adminPanel) {
                    adminPanel.innerHTML = `
                        <div class="admin-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #eee;">
                            <h3><i class="fas fa-cog"></i> Panel de Gesti√≥n de Certificados</h3>
                            <button id="logoutBtn" class="btn btn-sm" style="background-color: var(--danger);"><i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n</button>
                        </div>
                        <div class="upload-certificate">
                            <h4>Registrar Nuevo Certificado</h4>
                            <form id="certificateForm">
                                <p style="color: var(--primary); margin-bottom: 1rem;">** Los datos registrados aqu√≠ ser√°n usados para generar el QR y PDF de verificaci√≥n **</p>
                                <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div class="form-group"><label for="studentName">Nombre</label><input type="text" id="studentName" class="form-control" required style="padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; width: 100%;"></div>
                                    <div class="form-group"><label for="studentDni">DNI</label><input type="text" id="studentDni" class="form-control" required style="padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; width: 100%;"></div>
                                </div>
                                <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div class="form-group"><label for="courseName">Curso</label><input type="text" id="courseName" class="form-control" required style="padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; width: 100%;"></div>
                                    <div class="form-group"><label for="courseHours">Horas</label><input type="number" id="courseHours" class="form-control" required style="padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; width: 100%;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="issueDate">Fecha de Emisi√≥n</label>
                                    <input type="date" id="issueDate" class="form-control" required style="padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; width: 100%;">
                                </div>
                                <button type="submit" class="btn btn-success" style="margin-top: 1rem;"><i class="fas fa-save"></i> Generar Certificado (Incluye PDF/QR)</button>
                            </form>
                        </div>
                        <div class="certificates-list">
                            <h4>Certificados Registrados (Local)</h4>
                            <div class="certificates-grid" id="certificatesGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem; margin-top: 1rem;">
                                <p style="color: #6c757d;">Cargando lista...</p>
                            </div>
                        </div>
                    `;
                    adminPanel.style.display = 'block';
                    // Re-asignar eventos a los elementos reci√©n creados
                    document.getElementById('logoutBtn').addEventListener('click', () => { this.logout(); });
                    document.getElementById('certificateForm').addEventListener('submit', (e) => { e.preventDefault(); certificateSystem.generateCertificate(); });
                }
                if (certificateSystem) {
                    certificateSystem.loadCertificatesList();
                }
            }

            hideAdminPanel() {
                const adminPanel = document.getElementById('adminPanel');
                if (adminPanel) {
                    adminPanel.style.display = 'none';
                }
            }
        }

        // SISTEMA DE CERTIFICADOS
        class CertificateSystem {
            constructor() {
                this.certificates = JSON.parse(localStorage.getItem('dagat_certificates')) || [];
                this.init();
            }

            init() {
                document.getElementById('verifyBtn').addEventListener('click', () => { this.verifyCertificate(); });
                this.initQRScanner();
            }

            generateCertificate() {
                const certificateData = {
                    id: this.generateId(),
                    studentName: document.getElementById('studentName').value,
                    studentDni: document.getElementById('studentDni').value,
                    courseName: document.getElementById('courseName').value,
                    courseHours: document.getElementById('courseHours').value,
                    issueDate: document.getElementById('issueDate').value,
                    expiryDate: '', //Simplificado
                    notes: '', //Simplificado
                    status: 'active',
                    issuedBy: 'DAGAT SAC',
                    timestamp: new Date().toISOString()
                };

                this.certificates.push(certificateData);
                this.saveToStorage();
                this.loadCertificatesList();
                
                this.generateCertificatePDF(certificateData);
                
                document.getElementById('certificateForm').reset();
            }

            generateId() {
                const prefix = 'DAGAT';
                const year = new Date().getFullYear();
                const number = (this.certificates.length + 1).toString().padStart(5, '0');
                return `${prefix}-${year}-${number}`;
            }

            verifyCertificate(code = document.getElementById('certificateCode').value.trim()) {
                if (!code) {
                    showNotification('‚ö†Ô∏è Por favor, ingrese un c√≥digo de certificado.', 'info');
                    return;
                }
                const certificate = this.certificates.find(cert => cert.id === code);
                this.displayVerificationResult(certificate, code);
            }

            displayVerificationResult(certificate, code) {
                const resultDiv = document.getElementById('certificateResult');
                const contentDiv = document.getElementById('resultContent');
                
                resultDiv.style.display = 'block';

                if (certificate) {
                    const statusColor = 'success';
                    const statusIcon = 'check-circle';

                    contentDiv.innerHTML = `
                        <div class="alert alert-${statusColor}" style="padding: 1rem; border-radius: 8px; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;">
                            <i class="fas fa-${statusIcon}"></i>
                            <strong>Certificado V√°lido</strong>
                        </div>
                        <div class="certificate-details" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-top: 1rem;">
                            <p><strong>C√≥digo:</strong> ${certificate.id}</p>
                            <p><strong>Participante:</strong> ${certificate.studentName}</p>
                            <p><strong>Curso:</strong> ${certificate.courseName}</p>
                            <p><strong>Fecha de Emisi√≥n:</strong> ${new Date(certificate.issueDate).toLocaleDateString()}</p>
                        </div>
                    `;
                    showNotification(`‚úÖ Certificado ${code} es V√°lido.`, 'success');
                } else {
                    contentDiv.innerHTML = `
                        <div class="alert alert-danger" style="padding: 1rem; border-radius: 8px; background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>Certificado No Encontrado</strong>
                            <p>El c√≥digo "${code}" no corresponde a un certificado emitido por DAGAT SAC.</p>
                        </div>
                    `;
                    showNotification(`‚ùå Certificado ${code} no encontrado.`, 'error');
                }
                document.getElementById('certificados').scrollIntoView({ behavior: 'smooth' });
            }

            loadCertificatesList() {
                const grid = document.getElementById('certificatesGrid');
                if (!grid) return; 

                if (this.certificates.length === 0) {
                    grid.innerHTML = `<p style="color: #6c757d;">No hay certificados registrados a√∫n.</p>`;
                    return;
                }
                
                grid.innerHTML = this.certificates.map(cert => `
                    <div class="certificate-card" style="background: #f8f9fa; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary);">
                        <h5>${cert.studentName}</h5>
                        <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">${cert.courseName}</p>
                        <p style="font-size: 0.8rem; margin-bottom: 10px;"><strong>C√≥d:</strong> <span class="code" style="font-family: monospace; background: var(--dark); color: white; padding: 0.25rem 0.5rem; border-radius: 4px;">${cert.id}</span></p>
                        <button onclick="certificateSystem.viewCertificate('${cert.id}')" class="btn btn-sm" style="background-color: var(--secondary); padding: 0.5rem 1rem; font-size: 0.9rem; border-radius: 4px;">
                            <i class="fas fa-eye"></i> Ver
                        </button>
                        <button onclick="certificateSystem.generateCertificatePDFById('${cert.id}')" class="btn btn-sm" style="background-color: var(--accent); padding: 0.5rem 1rem; font-size: 0.9rem; border-radius: 4px; margin-left: 5px;">
                            <i class="fas fa-file-pdf"></i> PDF
                        </button>
                    </div>
                `).join('');
            }

            generateCertificatePDFById(id) {
                const certificate = this.certificates.find(cert => cert.id === id);
                if (certificate) {
                    this.generateCertificatePDF(certificate);
                } else {
                    showNotification('‚ùå Error al encontrar los datos del certificado.', 'error');
                }
            }

            generateCertificatePDF(certificateData) {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('l', 'mm', 'a4');
                
                const verificationUrl = `https://www.dagatservingenieria.com/#certificados?code=${certificateData.id}`; // URL de verificaci√≥n
                
                const qr = qrcode(0, 'L');
                qr.addData(verificationUrl);
                qr.make();
                const qrImg = qr.createDataURL(6, 0);

                // --- Contenido del Certificado (Mejorando el dise√±o para el PDF) ---
                doc.setFont('Helvetica');
                doc.setFontSize(30);
                doc.setTextColor('#172459'); // Primary Color
                doc.text("CERTIFICADO DE CAPACITACI√ìN", 148.5, 30, { align: "center" });
                
                // (Simular la inclusi√≥n del logo para el PDF - Requiere la imagen)
                // doc.addImage('Logo final 2 dagat.jpg', 'JPEG', 120, 10, 40, 40); 
                
                doc.setFontSize(16);
                doc.setTextColor('#555555');
                doc.text("Se otorga a:", 148.5, 55, { align: "center" });
                
                doc.setFontSize(40);
                doc.setTextColor('#FF7043'); // Accent Color
                doc.text(certificateData.studentName.toUpperCase(), 148.5, 75, { align: "center" });

                doc.setFontSize(18);
                doc.setTextColor('#555555');
                doc.text(`Por haber concluido satisfactoriamente el curso de:`, 148.5, 95, { align: "center" });
                
                doc.setFontSize(26);
                doc.setTextColor('#172459');
                doc.text(certificateData.courseName, 148.5, 110, { align: "center" });
                
                doc.setFontSize(12);
                doc.setTextColor('#333333');
                doc.text(`Horas Lectivas: ${certificateData.courseHours} | DNI: ${certificateData.studentDni} | Emitido: ${new Date(certificateData.issueDate).toLocaleDateString()}`, 148.5, 125, { align: "center" });

                // Posicionamiento del QR (para verificaci√≥n)
                doc.addImage(qrImg, 'JPEG', 15, 160, 30, 30); 
                doc.setFontSize(8);
                doc.setTextColor('#666666');
                doc.text("Escanee para verificar autenticidad:", 30, 195, { align: "center" });
                doc.text(`C√≥digo: ${certificateData.id}`, 30, 198, { align: "center" });

                doc.save(`Certificado_DAGAT_${certificateData.id}.pdf`);
                showNotification(`üìÑ Certificado ${certificateData.id} generado en PDF y listo para ser impreso.`, 'success');
            }

            saveToStorage() {
                localStorage.setItem('dagat_certificates', JSON.stringify(this.certificates));
            }
        }

        // -----------------------------------------------------
        // INICIALIZACI√ìN Y EVENTOS
        // -----------------------------------------------------
        let authSystem;
        let certificateSystem;

        document.addEventListener('DOMContentLoaded', function() {
            authSystem = new AuthSystem();
            certificateSystem = new CertificateSystem();
            
            const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target); 
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('section').forEach(el => { observer.observe(el); });
            
            setTimeout(() => { showNotification('üëã Bienvenido a DAGAT SAC - Servicios en Ingenier√≠a', 'info'); }, 1000);
        });

        // Eventos UI: Men√∫ m√≥vil, Scroll, Cotizaci√≥n y Contacto
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');

        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            mobileMenuBtn.innerHTML = navLinks.classList.contains('active') ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        });
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    navLinks.classList.remove('active');
                    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
        });

        // Formulario de cotizaci√≥n (Env√≠o con simulaci√≥n de API)
        document.getElementById('cotizacionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = this.querySelector('.btn');
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
            btn.disabled = true;
            
            setTimeout(() => {
                showNotification('‚úÖ Solicitud de cotizaci√≥n enviada. Le contactaremos en 4 horas.', 'success');
                this.reset();

                // Restaurar bot√≥n
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 2500);
        });

        // Env√≠o de correo directo (Mailto)
        const contactForm = document.getElementById('contactForm');
        const sendMailBtn = document.getElementById('sendMailBtn');

        sendMailBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const phone = document.getElementById('contactPhone').value;
            const subject = document.getElementById('contactSubject').value;
            const message = document.getElementById('contactMessage').value;
            
            if (!name || !email || !phone || !subject || !message) {
                showNotification('‚ùå Por favor, complete todos los campos del formulario de contacto.', 'error');
                return;
            }

            // Crear el cuerpo del correo
            const body = `Nombre: ${name}%0AEmail: ${email}%0ATel√©fono: ${phone}%0A%0AMensaje:%0A${message}`;
            const mailtoLink = `mailto:info@dagatgroup.com?subject=${encodeURIComponent(subject)}&body=${body}`;

            window.location.href = mailtoLink;
            showNotification('‚úâÔ∏è Abriendo cliente de correo. Por favor, haga clic en enviar.', 'info', 5000);
            contactForm.reset();
        });

        // Navegaci√≥n y Scroll se mantienen (para que los enlaces # funcionen)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-links a');
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.scrollY >= sectionTop - 100) { current = section.getAttribute('id'); }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) { link.classList.add('active'); }
            });
        });
    </script>
</body>
</html>



